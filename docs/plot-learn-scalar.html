<!DOCTYPE html>
<html>
<head>
    <title>plot</title>
    <script src="https://cdn.bootcdn.net/ajax/libs/plotly.js/2.3.1/plotly-basic.min.js"></script>
</head>
<body>
<div id="myDiv" style="height: 500px;width: 1200px"></div>

<script>
    var x = [0.54067737,0.29027736,0.7056371,0.48579988,0.16506346,0.42531776,0.09305329,0.21834835,0.43879464,0.95168364,0.9032841,0.44331744,0.16940545,0.20770082,0.41962868,0.15396008,0.07125775,0.745138,0.6622277,0.07208974,0.86522603,0.7645782,0.108798794,0.5039192,0.32614064,0.42714995,0.4921535,0.6765813,0.77008474,0.6760826,0.54251546,0.37550822,0.43800175,0.5440693,0.048772134,0.7898299,0.39332232,0.83929485,0.10089263,0.115106605,0.15800449,0.55541605,0.7529666,0.2957554,0.35920286,0.64930177,0.041082513,0.9873243,0.9308713,0.29009047,0.3009995,0.30017725,0.21569653,0.6229827,0.43883777,0.98889065,0.64840895,0.6693323,0.92863524,0.98283845,0.7809065,0.86994576,0.47422972,0.9758836,0.96358633,0.24641785,0.36727005,0.24978693,0.045494735,0.23795025,0.40041566,0.50311095,0.7523272,0.18103373,0.535986,0.22092569,0.5650903,0.8404834,0.56606424,0.5092281,0.5982665,0.23345017,0.55893135,0.20804101,0.9376066,0.043998454,0.1343604,0.51071274,0.60681677,0.834668,0.36869264,0.13460252,0.32588854,0.75433284,0.56685466,0.95994925,0.057169024,0.013753935,0.58523816,0.92533726,0.30750373,0.93394727,0.31843802,0.20134689,0.956927,0.5904294,0.99863666,0.18207969,0.010103795,0.7121226,0.11903714,0.8956241,0.7735082,0.48486313,0.4853313,0.9586203,0.33680952,0.6782998,0.5383405,0.5693118,0.16164759,0.114443466,0.9627761,0.30141485,0.18119141,0.8520557,0.95596504,0.6142786,0.010949627,0.7140168,0.18377759,0.3365544,0.9882774,0.3939141,0.31832597,0.65675664,0.87654394,0.5889121,0.9063463,0.44090062,0.14926805,0.5383625,0.46642646,0.3108877,0.42936754,0.7725574,0.25709587,0.21582568,0.8439409,0.5801841,0.71943945,0.5550927,0.31532314,0.66606236,0.891083,0.61809194,0.4897913,0.078730255,0.8500928,0.8054122,0.3572107,0.41527042,0.32170728,0.9729142,0.5350812,0.4914935,0.976774,0.9351575,0.49493712,0.8481825,0.8687674,0.018825166,0.58830905,0.2526114,0.71539134,0.17015582,0.7500193,0.27984568,0.34847137,0.6416505,0.27270544,0.37308455,0.9348974,0.1730792,0.35160697,0.37628543,0.44875666,0.30569562,0.69009376,0.18570887,0.66966224,0.05487407,0.78654885,0.2621271,0.1939784,0.39196473,0.55115956,0.07413481,0.26275042,0.40455896,0.9162394,0.13009018,0.5767867,0.8109257,0.8994823,0.98710597,0.4986592,0.23518002,0.80637825,0.42812818,0.80461097,0.8032541,0.6963976,0.97735673,0.31351012,0.5018274,0.80929023,0.42724863,0.7730773,0.56145525,0.5715006,0.72696424,0.23169643,0.64690334,0.28421682,0.884346,0.9518222,0.0807226,0.70216435,0.6268104,0.9415174,0.30441985,0.016374022,0.4407571,0.62893033,0.44268775,0.21588248,0.1692499,0.284789,0.7394314,0.86334276,0.2804496,0.5983118,0.37322485,0.6635214,0.5640263,0.35661128,0.21927357,0.042956017,0.2799026,0.17757471,0.6662763,0.6812526,0.82782215,0.5633983,0.29070777,0.08520146,0.3259279,0.97389036,0.8780642,0.6024709,0.38700494,0.6841076,0.6694339,0.49369034,0.20530869,0.6090829,0.39451483,0.94480556,0.29322958,0.9834233,0.31868422,0.11400184,0.2569282,0.51655143,0.12137658,0.7696735,0.9528067,0.54135346,0.33124477,0.21357691,0.6361205,0.7989089,0.6542638,0.44028372,0.5746778,0.08560201,0.93467134,0.6680734,0.087976284,0.719596,0.31328106,0.33978367,0.26442927,0.8945632,0.57925546,0.27009147,0.89863896,0.049205232,0.62240356,0.4056932,0.8910435,0.15252009,0.4301832,0.85757816,0.75751287,0.066254914,0.82919943,0.24880208,0.13230066,0.1753224,0.59340185,0.17654999,0.99191,0.45307383,0.5651233,0.03178468,0.6798951,0.22516744,0.54127055,0.89459693,0.06708828,0.6213159,0.9330059,0.8203654,0.3951079,0.20334421,0.485431,0.31989995,0.9862526,0.55727893,0.040825233,0.37830397,0.50547844,0.30990446,0.04906691,0.23862459,0.56392306,0.9175668,0.73634094,0.11648119,0.049612623,0.2528642,0.77641475,0.6281996,0.21449302,0.4845949,0.077201456,0.11358013,0.3028608,0.71717376,0.052593444,0.7171143,0.22058164,0.87703806,0.101075985,0.84225607,0.13562192,0.8737301,0.29027748,0.59265167,0.6680952,0.0032655834,0.7877499,0.3846508,0.2661856,0.5905075,0.3344645,0.72981673,0.61320186,0.6150537,0.5497705,0.7509785,0.651524,0.65182465,0.38289824,0.5643214,0.3232487,0.57846004,0.33226892,0.95346093,0.9387532,0.038356185,0.85044336,0.994106,0.053373903,0.63700444,0.58505726,0.7758862,0.9413811,0.9661251,0.10296128,0.7222168,0.59456176,0.7232208,0.24024625,0.59078765,0.7410501,0.5546954,0.76309437,0.2934023,0.4339223,0.71334773,0.035461783,0.62265813,0.45846057,0.15946384,0.119361274,0.6473322,0.27900556,0.53574854,0.28701562,0.3613693,0.8327441,0.53246164,0.91359866,0.05038179,0.2667784,0.78183335,0.9731397,0.10382242,0.72457945,0.56156,0.13299648,0.075169966,0.3413751,0.04565928,0.04104052,0.28471264,0.83275884,0.49701795,0.56463915,0.7402825,0.12973392,0.7018827,0.86852354,0.28202713,0.20641035,0.05183039,0.58157396,0.35531858,0.48458523,0.076008685,0.12084552,0.8945823,0.4710605,0.6519586,0.8810856,0.79503864,0.7713679,0.41895908,0.44224727,0.8224329,0.8413734,0.45553976,0.8138287,0.7064193,0.53100544,0.6534438,0.49923095,0.04245172,0.018269626,0.40278766,0.3262735,0.04847951,0.74146837,0.7553322,0.19016719,0.38025954,0.09548328,0.76149124,0.17191881,0.7031496,0.11340982,0.95838827,0.5551325,0.38287362,0.6769636,0.7062211,0.7933146,0.5120671,0.28557494,0.7238548,0.16628978,0.8280152,0.27370408,0.25823665,0.5081024,0.76082426,0.81697667,0.77342176,0.74040425,0.615313,0.86633646,0.99559283,0.13966027,0.958307,0.58872086,0.74520004,0.8364568];
    var y = [0.34191993,0.2002021,0.45253593,0.29389307,0.10003318,0.29575217,0.058038604,0.1523019,0.30702466,0.6540948,0.5897807,0.26698187,0.118005484,0.12491827,0.264247,0.097017534,0.047652405,0.50214577,0.45718345,0.049654204,0.53239226,0.5013299,0.071061835,0.3353905,0.20875698,0.27009794,0.34067392,0.4132969,0.49874604,0.42439038,0.33100617,0.23877704,0.2699588,0.37522745,0.03051765,0.4920409,0.27204958,0.5718653,0.06814427,0.078923695,0.098311506,0.35335407,0.4791329,0.18370092,0.24549678,0.4327901,0.028464273,0.67301464,0.6443929,0.17903294,0.19261764,0.2046643,0.13548943,0.3964942,0.30200282,0.6362069,0.4234656,0.46018982,0.61517394,0.6864025,0.4853939,0.5375263,0.29648203,0.668099,0.59942365,0.15709743,0.23414391,0.15153956,0.027557893,0.14621712,0.24976735,0.3144243,0.5139715,0.1110254,0.34101707,0.13262805,0.355735,0.51089615,0.3841475,0.33367798,0.3978502,0.15890262,0.33906543,0.14116916,0.6490855,0.03018973,0.0873759,0.31793588,0.3710262,0.525703,0.24856146,0.08641473,0.19805227,0.50870156,0.37782222,0.663025,0.03451989,0.008608043,0.36720726,0.6359686,0.20646136,0.5966525,0.2029077,0.12234475,0.648597,0.39426333,0.6411471,0.12618384,0.006754639,0.493234,0.07900801,0.6245304,0.48982844,0.33031994,0.29940316,0.58935493,0.22428979,0.4521755,0.3373681,0.35280368,0.098148294,0.078533776,0.6726374,0.19450924,0.11434893,0.5898557,0.59874105,0.40737525,0.007288385,0.45933154,0.12716047,0.21898077,0.6243211,0.2505082,0.21686889,0.44835687,0.60301703,0.39453408,0.5911362,0.29832566,0.10016922,0.34764403,0.29414225,0.21598445,0.26561055,0.46891645,0.16032061,0.14353397,0.5073247,0.3690532,0.47935003,0.37329826,0.20376442,0.42856187,0.58944523,0.43132836,0.3365616,0.051675376,0.5192605,0.49554533,0.23816898,0.27107897,0.1930582,0.6148436,0.33272475,0.3375696,0.6002121,0.6110001,0.33955604,0.5643044,0.5889831,0.011649984,0.36349416,0.1752665,0.47346193,0.10514863,0.45892805,0.19375902,0.22799645,0.3892203,0.18177341,0.25847316,0.58335704,0.1074349,0.22250131,0.25277334,0.2712812,0.20381187,0.47189724,0.12390224,0.4573653,0.03796777,0.5240771,0.17392583,0.13447008,0.27052608,0.34327772,0.04602721,0.17578784,0.24577792,0.61087865,0.08664497,0.375294,0.5027556,0.5609147,0.64149326,0.34506425,0.15065937,0.55257255,0.26207122,0.55244243,0.5043706,0.4622264,0.66348964,0.19550626,0.34097385,0.4895363,0.27676186,0.4857215,0.36835802,0.38697293,0.5082826,0.15886812,0.39214057,0.19306108,0.56410414,0.64760756,0.049796775,0.4274311,0.3973127,0.6108915,0.19814871,0.010214044,0.2750237,0.40773666,0.2963174,0.14046746,0.108558975,0.17466953,0.49782714,0.534443,0.17432846,0.3786704,0.24850328,0.455186,0.3526331,0.2245874,0.13910839,0.026833208,0.18391529,0.12074045,0.45660543,0.41419056,0.5350236,0.38748422,0.19209719,0.053644653,0.22754732,0.6642179,0.571926,0.42156827,0.26662534,0.4690391,0.41874343,0.3048695,0.1321953,0.37535533,0.27255252,0.57349294,0.19902945,0.5942871,0.21891749,0.07525759,0.1571251,0.32836512,0.081032455,0.53157455,0.65697974,0.37572464,0.22252445,0.13784544,0.42065287,0.54527056,0.42164525,0.26673588,0.36174497,0.059373353,0.561123,0.43285426,0.053306796,0.47405794,0.2184749,0.23479132,0.16484013,0.6201893,0.3524188,0.18087137,0.609513,0.031304248,0.43348923,0.27777603,0.5559254,0.10302335,0.27857953,0.58188516,0.4964603,0.042102132,0.51276773,0.1496203,0.08395357,0.121563986,0.39217633,0.11831856,0.6133109,0.3077182,0.38490868,0.020597765,0.46183327,0.13710125,0.33798757,0.54541296,0.040511347,0.40515056,0.57575065,0.529519,0.24870098,0.1255362,0.30975425,0.1987762,0.6661427,0.38288185,0.025156712,0.23557906,0.33445743,0.2057226,0.03357433,0.15415886,0.3484403,0.58417964,0.45684418,0.07849408,0.030204158,0.16723847,0.49637628,0.39964765,0.13258018,0.29562068,0.047575068,0.07207454,0.18227494,0.45187932,0.03383178,0.43739533,0.14841281,0.53264755,0.06850073,0.5217341,0.0836218,0.54351145,0.18273875,0.41210327,0.455172,0.0022645714,0.5405248,0.25279677,0.16240092,0.40847775,0.20964256,0.45706907,0.41746953,0.4230781,0.3567011,0.484669,0.42802948,0.44245207,0.2485683,0.3410971,0.22034042,0.39446563,0.23053867,0.6201315,0.57546425,0.026334742,0.5797932,0.62394136,0.036501527,0.40676656,0.38636497,0.52180296,0.6554067,0.58683515,0.071017794,0.49976462,0.39803654,0.44177896,0.14904764,0.37555212,0.5153159,0.36854282,0.5133033,0.19092992,0.294657,0.4661314,0.023766555,0.42831117,0.3031189,0.09862472,0.0749065,0.43399945,0.17453375,0.35887823,0.17598306,0.23423223,0.50562924,0.34274438,0.5577294,0.03374794,0.16330712,0.5283262,0.68032914,0.06352461,0.44293675,0.37371334,0.0810789,0.05098416,0.20655763,0.027491502,0.026653655,0.1762895,0.5180088,0.32350114,0.3721088,0.5170213,0.078909576,0.44820544,0.57415324,0.19176736,0.12816782,0.03529275,0.36678284,0.22905578,0.3229208,0.049460035,0.084331654,0.6071677,0.31083998,0.42287403,0.5306576,0.55248094,0.48202825,0.2793996,0.28343913,0.54379004,0.538423,0.3088678,0.5580093,0.46345764,0.3694827,0.40771028,0.32064593,0.029287849,0.011409749,0.2420253,0.22325727,0.032651775,0.4677153,0.49324653,0.12505217,0.26123062,0.061894674,0.47555602,0.11250374,0.42799363,0.07295303,0.66477567,0.35110188,0.24385577,0.45796618,0.45360726,0.5177516,0.35373828,0.18742183,0.44345123,0.10559246,0.53710574,0.17073,0.17793159,0.32539898,0.46360067,0.54486936,0.4781861,0.50282115,0.37090853,0.58956665,0.6898069,0.084869124,0.6568983,0.40398458,0.47657257,0.5302224];
    var marker = {
        name: 'samples',
        x: x,
        y: y,
        mode: 'markers',
        marker: {color: 'yellow'}
    }
    lineMaxX = 1.5
    var fitting_line = {
        name: 'fitting-line',
        type: "scatter",
        mode: "lines",
        x: [0, lineMaxX],
        y: [0, 0],
        line: {color: 'red'}
    };

    var lost = {
        name: 'lost',
        type: "scatter",
        mode: "lines",
        x: [1.5, 1.5],
        y: [0, 0.5],
        line: {color: 'blue'}
    };

    var data = [fitting_line, lost, marker];

    Plotly.newPlot('myDiv', data, {
        xaxis: {range: [0, 3.0]},
        yaxis: {range: [0, 0.9]}
    });

    function animation() {
        Plotly.animate('myDiv', {
            data: [fitting_line, lost],
            traces: [0, 1],
            layout: {}
        }, {
            transition: {
                duration: 500,
                easing: 'cubic-in-out'
            },
            frame: {
                duration: 500
            }
        })
    }

    const interval = 1000

    var offset = 0.1
    count = 0;
    const records = [{"Lost":0.12646231,"Slope":0.04242693,"Base":0},{"Lost":0.11056438,"Slope":0.082090676,"Base":0},{"Lost":0.096669845,"Slope":0.11917119,"Base":0},{"Lost":0.084526315,"Slope":0.15383671,"Base":0},{"Lost":0.0739129,"Slope":0.18624455,"Base":0},{"Lost":0.064637,"Slope":0.21654172,"Base":0},{"Lost":0.05653001,"Slope":0.24486569,"Base":0},{"Lost":0.04944463,"Slope":0.27134496,"Base":0},{"Lost":0.043252084,"Slope":0.29609972,"Base":0},{"Lost":0.03783988,"Slope":0.31924224,"Base":0},{"Lost":0.033109702,"Slope":0.34087756,"Base":0},{"Lost":0.028975595,"Slope":0.36110377,"Base":0},{"Lost":0.025362447,"Slope":0.3800127,"Base":0},{"Lost":0.022204606,"Slope":0.3976901,"Base":0},{"Lost":0.019444708,"Slope":0.4142162,"Base":0},{"Lost":0.017032603,"Slope":0.42966595,"Base":0},{"Lost":0.0149244405,"Slope":0.4441096,"Base":0},{"Lost":0.013081953,"Slope":0.45761248,"Base":0},{"Lost":0.01147163,"Slope":0.47023597,"Base":0},{"Lost":0.010064229,"Slope":0.4820373,"Base":0},{"Lost":0.008834194,"Slope":0.4930701,"Base":0},{"Lost":0.007759151,"Slope":0.50338435,"Base":0},{"Lost":0.0068195816,"Slope":0.5130269,"Base":0},{"Lost":0.005998414,"Slope":0.5220414,"Base":0},{"Lost":0.0052807224,"Slope":0.53046876,"Base":0},{"Lost":0.004653466,"Slope":0.53834736,"Base":0},{"Lost":0.0041052625,"Slope":0.5457127,"Base":0},{"Lost":0.0036261475,"Slope":0.5525983,"Base":0},{"Lost":0.0032074014,"Slope":0.55903554,"Base":0},{"Lost":0.0028414263,"Slope":0.56505346,"Base":0},{"Lost":0.0025215691,"Slope":0.5706794,"Base":0},{"Lost":0.0022420222,"Slope":0.575939,"Base":0},{"Lost":0.0019976927,"Slope":0.58085614,"Base":0},{"Lost":0.0017841546,"Slope":0.58545303,"Base":0},{"Lost":0.001597526,"Slope":0.58975047,"Base":0},{"Lost":0.0014344155,"Slope":0.59376806,"Base":0},{"Lost":0.0012918633,"Slope":0.59752387,"Base":0},{"Lost":0.001167269,"Slope":0.60103524,"Base":0},{"Lost":0.0010583756,"Slope":0.6043179,"Base":0},{"Lost":0.0009632064,"Slope":0.6073867,"Base":0},{"Lost":0.00088003016,"Slope":0.61025566,"Base":0},{"Lost":0.0008073351,"Slope":0.61293775,"Base":0},{"Lost":0.00074379967,"Slope":0.61544514,"Base":0},{"Lost":0.0006882725,"Slope":0.61778927,"Base":0},{"Lost":0.00063974137,"Slope":0.6199807,"Base":0},{"Lost":0.000597326,"Slope":0.6220294,"Base":0},{"Lost":0.00056025595,"Slope":0.6239447,"Base":0},{"Lost":0.000527856,"Slope":0.6257353,"Base":0},{"Lost":0.000499539,"Slope":0.6274092,"Base":0},{"Lost":0.00047478973,"Slope":0.62897426,"Base":0}];
    console.log('records length',records.length);
    const repeat = function () {
        console.log('count =', count);
        if (count < records.length) {
            
            const base = records[count]["Base"]
            fitting_line.y = [base, records[count]["Slope"] * lineMaxX + base]
            lost.y = [0, records[count]["Lost"]]
            count++
            animation()
            setTimeout(repeat, interval)
        }
    }

    setTimeout(repeat, 0)
</script>
</body>
</html>