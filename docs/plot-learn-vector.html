<!DOCTYPE html>
<html>
<head>
    <title>plot</title>
    <script src='https://cdn.plot.ly/plotly-2.4.2.min.js'></script>
</head>
<body>
<div id="myDiv" style="height: 500px;width: 1200px"></div>

<script>
    var x = [0.54067737,0.29027736,0.7056371,0.48579988,0.16506346,0.42531776,0.09305329,0.21834835,0.43879464,0.95168364,0.9032841,0.44331744,0.16940545,0.20770082,0.41962868,0.15396008,0.07125775,0.745138,0.6622277,0.07208974,0.86522603,0.7645782,0.108798794,0.5039192,0.32614064,0.42714995,0.4921535,0.6765813,0.77008474,0.6760826,0.54251546,0.37550822,0.43800175,0.5440693,0.048772134,0.7898299,0.39332232,0.83929485,0.10089263,0.115106605,0.15800449,0.55541605,0.7529666,0.2957554,0.35920286,0.64930177,0.041082513,0.9873243,0.9308713,0.29009047,0.3009995,0.30017725,0.21569653,0.6229827,0.43883777,0.98889065,0.64840895,0.6693323,0.92863524,0.98283845,0.7809065,0.86994576,0.47422972,0.9758836,0.96358633,0.24641785,0.36727005,0.24978693,0.045494735,0.23795025,0.40041566,0.50311095,0.7523272,0.18103373,0.535986,0.22092569,0.5650903,0.8404834,0.56606424,0.5092281,0.5982665,0.23345017,0.55893135,0.20804101,0.9376066,0.043998454,0.1343604,0.51071274,0.60681677,0.834668,0.36869264,0.13460252,0.32588854,0.75433284,0.56685466,0.95994925,0.057169024,0.013753935,0.58523816,0.92533726,0.30750373,0.93394727,0.31843802,0.20134689,0.956927,0.5904294,0.99863666,0.18207969,0.010103795,0.7121226,0.11903714,0.8956241,0.7735082,0.48486313,0.4853313,0.9586203,0.33680952,0.6782998,0.5383405,0.5693118,0.16164759,0.114443466,0.9627761,0.30141485,0.18119141,0.8520557,0.95596504,0.6142786,0.010949627,0.7140168,0.18377759,0.3365544,0.9882774,0.3939141,0.31832597,0.65675664,0.87654394,0.5889121,0.9063463,0.44090062,0.14926805,0.5383625,0.46642646,0.3108877,0.42936754,0.7725574,0.25709587,0.21582568,0.8439409,0.5801841,0.71943945,0.5550927,0.31532314,0.66606236,0.891083,0.61809194,0.4897913,0.078730255,0.8500928,0.8054122,0.3572107,0.41527042,0.32170728,0.9729142,0.5350812,0.4914935,0.976774,0.9351575,0.49493712,0.8481825,0.8687674,0.018825166,0.58830905,0.2526114,0.71539134,0.17015582,0.7500193,0.27984568,0.34847137,0.6416505,0.27270544,0.37308455,0.9348974,0.1730792,0.35160697,0.37628543,0.44875666,0.30569562,0.69009376,0.18570887,0.66966224,0.05487407,0.78654885,0.2621271,0.1939784,0.39196473,0.55115956,0.07413481,0.26275042,0.40455896,0.9162394,0.13009018,0.5767867,0.8109257,0.8994823,0.98710597,0.4986592,0.23518002,0.80637825,0.42812818,0.80461097,0.8032541,0.6963976,0.97735673,0.31351012,0.5018274,0.80929023,0.42724863,0.7730773,0.56145525,0.5715006,0.72696424,0.23169643,0.64690334,0.28421682,0.884346,0.9518222,0.0807226,0.70216435,0.6268104,0.9415174,0.30441985,0.016374022,0.4407571,0.62893033,0.44268775,0.21588248,0.1692499,0.284789,0.7394314,0.86334276,0.2804496,0.5983118,0.37322485,0.6635214,0.5640263,0.35661128,0.21927357,0.042956017,0.2799026,0.17757471,0.6662763,0.6812526,0.82782215,0.5633983,0.29070777,0.08520146,0.3259279,0.97389036,0.8780642,0.6024709,0.38700494,0.6841076,0.6694339,0.49369034,0.20530869,0.6090829,0.39451483,0.94480556,0.29322958,0.9834233,0.31868422,0.11400184,0.2569282,0.51655143,0.12137658,0.7696735,0.9528067,0.54135346,0.33124477,0.21357691,0.6361205,0.7989089,0.6542638,0.44028372,0.5746778,0.08560201,0.93467134,0.6680734,0.087976284,0.719596,0.31328106,0.33978367,0.26442927,0.8945632,0.57925546,0.27009147,0.89863896,0.049205232,0.62240356,0.4056932,0.8910435,0.15252009,0.4301832,0.85757816,0.75751287,0.066254914,0.82919943,0.24880208,0.13230066,0.1753224,0.59340185,0.17654999,0.99191,0.45307383,0.5651233,0.03178468,0.6798951,0.22516744,0.54127055,0.89459693,0.06708828,0.6213159,0.9330059,0.8203654,0.3951079,0.20334421,0.485431,0.31989995,0.9862526,0.55727893,0.040825233,0.37830397,0.50547844,0.30990446,0.04906691,0.23862459,0.56392306,0.9175668,0.73634094,0.11648119,0.049612623,0.2528642,0.77641475,0.6281996,0.21449302,0.4845949,0.077201456,0.11358013,0.3028608,0.71717376,0.052593444,0.7171143,0.22058164,0.87703806,0.101075985,0.84225607,0.13562192,0.8737301,0.29027748,0.59265167,0.6680952,0.0032655834,0.7877499,0.3846508,0.2661856,0.5905075,0.3344645,0.72981673,0.61320186,0.6150537,0.5497705,0.7509785,0.651524,0.65182465,0.38289824,0.5643214,0.3232487,0.57846004,0.33226892,0.95346093,0.9387532,0.038356185,0.85044336,0.994106,0.053373903,0.63700444,0.58505726,0.7758862,0.9413811,0.9661251,0.10296128,0.7222168,0.59456176,0.7232208,0.24024625,0.59078765,0.7410501,0.5546954,0.76309437,0.2934023,0.4339223,0.71334773,0.035461783,0.62265813,0.45846057,0.15946384,0.119361274,0.6473322,0.27900556,0.53574854,0.28701562,0.3613693,0.8327441,0.53246164,0.91359866,0.05038179,0.2667784,0.78183335,0.9731397,0.10382242,0.72457945,0.56156,0.13299648,0.075169966,0.3413751,0.04565928,0.04104052,0.28471264,0.83275884,0.49701795,0.56463915,0.7402825,0.12973392,0.7018827,0.86852354,0.28202713,0.20641035,0.05183039,0.58157396,0.35531858,0.48458523,0.076008685,0.12084552,0.8945823,0.4710605,0.6519586,0.8810856,0.79503864,0.7713679,0.41895908,0.44224727,0.8224329,0.8413734,0.45553976,0.8138287,0.7064193,0.53100544,0.6534438,0.49923095,0.04245172,0.018269626,0.40278766,0.3262735,0.04847951,0.74146837,0.7553322,0.19016719,0.38025954,0.09548328,0.76149124,0.17191881,0.7031496,0.11340982,0.95838827,0.5551325,0.38287362,0.6769636,0.7062211,0.7933146,0.5120671,0.28557494,0.7238548,0.16628978,0.8280152,0.27370408,0.25823665,0.5081024,0.76082426,0.81697667,0.77342176,0.74040425,0.615313,0.86633646,0.99559283,0.13966027,0.958307,0.58872086,0.74520004,0.8364568];
    var y = [0.57431173,0.4898945,0.6938513,0.49886042,0.3060618,0.59111965,0.2817522,0.4498198,0.60672474,0.94139755,0.84271,0.4692182,0.4145916,0.32635194,0.49396327,0.32716486,0.3163853,0.77604204,0.74755543,0.33843744,0.7477138,0.7570246,0.32421094,0.60095453,0.44883966,0.50242376,0.6328846,0.62415755,0.74639684,0.6521101,0.5411384,0.47465408,0.48630062,0.6648959,0.2562366,0.7150116,0.56372035,0.8532294,0.34355798,0.36458108,0.3205185,0.5895511,0.7154598,0.4048254,0.5289456,0.699337,0.3213204,0.9546697,0.9366399,0.3961953,0.4325444,0.48647583,0.3636378,0.63293916,0.59019065,0.87956107,0.67654973,0.7477254,0.8776234,0.98479044,0.7069714,0.75541115,0.52166855,0.95270824,0.82149935,0.39462197,0.47166908,0.35821486,0.23329593,0.36070323,0.4735375,0.5393845,0.797147,0.32431108,0.57725954,0.33295685,0.58525383,0.71875596,0.6627763,0.58894026,0.66285515,0.43957296,0.5456971,0.4197332,0.9413647,0.31634405,0.33768582,0.5404695,0.58245647,0.75553787,0.5227313,0.32841405,0.40578234,0.7830744,0.6443462,0.9537126,0.23834142,0.23446845,0.5946565,0.9232517,0.47787225,0.83550286,0.4401045,0.32997638,0.9263885,0.6620202,0.8831694,0.41919824,0.2752796,0.7858591,0.34273374,0.92184347,0.7230841,0.6115842,0.5163079,0.80414987,0.49021447,0.7188062,0.5640497,0.5725057,0.30532277,0.36475706,0.971281,0.43982992,0.34544355,0.8821292,0.82506216,0.6705519,0.27291703,0.7026379,0.4190864,0.46963567,0.8560477,0.4864544,0.49814814,0.73104024,0.8909654,0.66447115,0.8433551,0.5749535,0.3712386,0.5933874,0.52477163,0.51071906,0.48421937,0.67588294,0.38390356,0.40857983,0.7084624,0.6051499,0.74563265,0.64579535,0.44997266,0.6719879,0.8509383,0.7291668,0.62371457,0.30803514,0.73008853,0.71081454,0.5049155,0.5238559,0.39316335,0.8468044,0.55454576,0.6243937,0.8146962,0.8643662,0.62561494,0.8296145,0.86693573,0.23050158,0.5813567,0.46908516,0.7352842,0.32310352,0.6708163,0.4861371,0.48227245,0.5958127,0.44832927,0.55127364,0.8073368,0.32816172,0.45531386,0.5245329,0.47579858,0.47052687,0.75571334,0.39108756,0.7403444,0.32987508,0.7903766,0.43744302,0.42769197,0.56070566,0.5661059,0.26688546,0.4448175,0.45329857,0.87760246,0.35268268,0.62595737,0.7227329,0.7845119,0.891366,0.63704836,0.39127234,0.8378248,0.47420382,0.83903813,0.7322798,0.72596556,0.94235086,0.41911054,0.6204382,0.6944321,0.52453893,0.7140176,0.62443525,0.66409016,0.8074678,0.4445417,0.5983216,0.472335,0.8019813,0.9279946,0.2666844,0.6361648,0.63117695,0.8597287,0.44905472,0.23400971,0.49900392,0.6560384,0.5656772,0.3911338,0.3499713,0.38799918,0.77108383,0.7534822,0.395932,0.6115685,0.5143305,0.7412015,0.5778399,0.45436946,0.37351406,0.25150028,0.4409841,0.40068212,0.74191487,0.6221744,0.78132623,0.6752467,0.45288858,0.28326598,0.5256996,0.94624317,0.82327473,0.7213005,0.55557096,0.75466096,0.64426214,0.52240133,0.3760808,0.5916185,0.5634075,0.78048867,0.47777903,0.7985916,0.5058592,0.33540127,0.3686776,0.5640523,0.3486444,0.8222239,0.9465002,0.66977143,0.49430698,0.383259,0.6819315,0.8277896,0.66610277,0.47256315,0.59121937,0.352971,0.76146555,0.6807685,0.25922915,0.7328414,0.51585156,0.5257937,0.38822085,0.9134766,0.56081843,0.4505384,0.88777536,0.26750174,0.7299653,0.56247085,0.7798292,0.37849733,0.526163,0.86040664,0.75184226,0.27755886,0.7311566,0.35098296,0.31852004,0.41493797,0.6530714,0.38848886,0.83162385,0.5868971,0.66601425,0.2686384,0.7411046,0.34598702,0.56242126,0.7550875,0.24436265,0.6572352,0.7928428,0.7749862,0.47815174,0.34289435,0.54785573,0.4201461,0.94157076,0.66993785,0.24136166,0.45830327,0.5961225,0.46954846,0.3178304,0.40018973,0.5663265,0.8208413,0.677269,0.35237178,0.23900403,0.42861506,0.73569477,0.63582706,0.35068965,0.5056573,0.26382077,0.30664447,0.38411885,0.6819628,0.27710167,0.6473334,0.42123765,0.739973,0.3462159,0.74118245,0.300202,0.76557016,0.41226998,0.70745814,0.7364701,0.29573062,0.8266877,0.5100078,0.37250495,0.70021784,0.43644318,0.68334824,0.6982722,0.7109498,0.60551935,0.7300523,0.684996,0.7212421,0.49774414,0.54553473,0.501984,0.67638934,0.5243702,0.870532,0.7884733,0.3129187,0.86154723,0.851582,0.32038492,0.64532816,0.64675325,0.7943281,0.951625,0.79424626,0.36077026,0.79175156,0.6674986,0.65262824,0.36944294,0.6112325,0.81070185,0.6329485,0.78596354,0.44167435,0.5737117,0.7195734,0.2939684,0.71618646,0.56428564,0.31710175,0.3024676,0.7044426,0.40009025,0.6287414,0.3891311,0.48241186,0.7128136,0.5864421,0.7682047,0.30359194,0.37545228,0.8040792,0.9794365,0.27538297,0.6542386,0.63920474,0.2907108,0.32923585,0.4116329,0.22959259,0.2761009,0.39547342,0.7400483,0.5743853,0.63112926,0.81543213,0.28715122,0.6867814,0.83522135,0.4717281,0.34910476,0.31622043,0.59745556,0.47370481,0.5893067,0.30017558,0.3821784,0.88588417,0.5707127,0.6714951,0.73293453,0.84739166,0.70692885,0.54628956,0.5243455,0.80498695,0.77835643,0.5868938,0.8436687,0.71952355,0.66529983,0.63165104,0.56292564,0.31919742,0.23592982,0.44290096,0.50752145,0.30616882,0.6985113,0.7462659,0.3826428,0.5482104,0.31011993,0.7000622,0.36690414,0.63667434,0.31622207,0.95841485,0.5835669,0.48076504,0.73446655,0.69590926,0.770395,0.6445428,0.44371828,0.6560758,0.34058315,0.7857722,0.39450583,0.4669569,0.565819,0.6729406,0.8118032,0.6964595,0.78193814,0.573705,0.8700951,0.9826673,0.29255176,0.9423762,0.6901919,0.7160956,0.76411337];
    var marker = {
        name: 'samples',
        x: x,
        y: y,
        mode: 'markers',
        marker: {color: 'yellow'}
    }
    lineMaxX = 1.5
    var fitting_line = {
        name: 'fitting-line',
        type: "scatter",
        mode: "lines",
        x: [0, lineMaxX],
        y: [0, 0],
        line: {color: 'red'}
    };

    var lost = {
        name: 'lost',
        type: "scatter",
        mode: "lines",
        x: [1.5, 1.5],
        y: [0, 0.5],
        line: {color: 'blue'}
    };

    var data = [fitting_line, lost, marker];

    Plotly.newPlot('myDiv', data, {
        xaxis: {range: [0, 3.0]},
        yaxis: {range: [0, 0.9]}
    });

    function animation() {
        Plotly.animate('myDiv', {
            data: [fitting_line, lost],
            traces: [0, 1],
            layout: {}
        }, {
            transition: {
                duration: 500,
                easing: 'cubic-in-out'
            },
            frame: {
                duration: 500
            }
        })
    }

    const interval = 1000

    var offset = 0.1
    count = 0;
    const records = [{"Lost":0.014629465,"Slope":0.2803946,"Base":0.4050113},{"Lost":0.010154152,"Slope":0.34036,"Base":0.41491243},{"Lost":0.008340533,"Slope":0.37899467,"Base":0.39728552},{"Lost":0.006941582,"Slope":0.41196346,"Base":0.37975013},{"Lost":0.0058551608,"Slope":0.44093573,"Base":0.36414483},{"Lost":0.0050113956,"Slope":0.46646205,"Base":0.35038072},{"Lost":0.004356093,"Slope":0.48895735,"Base":0.33824986},{"Lost":0.003847161,"Slope":0.5087817,"Base":0.32755926},{"Lost":0.0034519015,"Slope":0.5262523,"Base":0.31813794},{"Lost":0.003144927,"Slope":0.5416487,"Base":0.30983514}];
    console.log('records length',records.length);
    const repeat = function () {
        console.log('count =', count);
        if (count < records.length) {
            
            const base = records[count]["Base"]
            fitting_line.y = [base, records[count]["Slope"] * lineMaxX + base]
            lost.y = [0, records[count]["Lost"]]
            count++
            animation()
            setTimeout(repeat, interval)
        }
    }

    setTimeout(repeat, 0)
</script>
</body>
</html>