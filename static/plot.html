<!DOCTYPE html>
<html>
<head>
    <title>plot</title>
    <script src="https://cdn.bootcdn.net/ajax/libs/plotly.js/2.3.1/plotly-basic.min.js"></script>
</head>
<body>
<div id="myDiv" style="height: 700px;width: 1400px"></div>

<script>
    var x = [0.54067737,0.29027736,0.7056371,0.48579988,0.16506346,0.42531776,0.09305329,0.21834835,0.43879464,0.95168364,0.9032841,0.44331744,0.16940545,0.20770082,0.41962868,0.15396008,0.07125775,0.745138,0.6622277,0.07208974,0.86522603,0.7645782,0.108798794,0.5039192,0.32614064,0.42714995,0.4921535,0.6765813,0.77008474,0.6760826,0.54251546,0.37550822,0.43800175,0.5440693,0.048772134,0.7898299,0.39332232,0.83929485,0.10089263,0.115106605,0.15800449,0.55541605,0.7529666,0.2957554,0.35920286,0.64930177,0.041082513,0.9873243,0.9308713,0.29009047,0.3009995,0.30017725,0.21569653,0.6229827,0.43883777,0.98889065,0.64840895,0.6693323,0.92863524,0.98283845,0.7809065,0.86994576,0.47422972,0.9758836,0.96358633,0.24641785,0.36727005,0.24978693,0.045494735,0.23795025,0.40041566,0.50311095,0.7523272,0.18103373,0.535986,0.22092569,0.5650903,0.8404834,0.56606424,0.5092281,0.5982665,0.23345017,0.55893135,0.20804101,0.9376066,0.043998454,0.1343604,0.51071274,0.60681677,0.834668,0.36869264,0.13460252,0.32588854,0.75433284,0.56685466,0.95994925,0.057169024,0.013753935,0.58523816,0.92533726,0.30750373,0.93394727,0.31843802,0.20134689,0.956927,0.5904294,0.99863666,0.18207969,0.010103795,0.7121226,0.11903714,0.8956241,0.7735082,0.48486313,0.4853313,0.9586203,0.33680952,0.6782998,0.5383405,0.5693118,0.16164759,0.114443466,0.9627761,0.30141485,0.18119141,0.8520557,0.95596504,0.6142786,0.010949627,0.7140168,0.18377759,0.3365544,0.9882774,0.3939141,0.31832597,0.65675664,0.87654394,0.5889121,0.9063463,0.44090062,0.14926805,0.5383625,0.46642646,0.3108877,0.42936754,0.7725574,0.25709587,0.21582568,0.8439409,0.5801841,0.71943945,0.5550927,0.31532314,0.66606236,0.891083,0.61809194,0.4897913,0.078730255,0.8500928,0.8054122,0.3572107,0.41527042,0.32170728,0.9729142,0.5350812,0.4914935,0.976774,0.9351575,0.49493712,0.8481825,0.8687674,0.018825166,0.58830905,0.2526114,0.71539134,0.17015582,0.7500193,0.27984568,0.34847137,0.6416505,0.27270544,0.37308455,0.9348974,0.1730792,0.35160697,0.37628543,0.44875666,0.30569562,0.69009376,0.18570887,0.66966224,0.05487407,0.78654885,0.2621271,0.1939784,0.39196473,0.55115956,0.07413481,0.26275042,0.40455896,0.9162394,0.13009018,0.5767867,0.8109257,0.8994823,0.98710597,0.4986592,0.23518002,0.80637825,0.42812818,0.80461097,0.8032541,0.6963976,0.97735673,0.31351012,0.5018274,0.80929023,0.42724863,0.7730773,0.56145525,0.5715006,0.72696424,0.23169643,0.64690334,0.28421682,0.884346,0.9518222,0.0807226,0.70216435,0.6268104,0.9415174,0.30441985,0.016374022,0.4407571,0.62893033,0.44268775,0.21588248,0.1692499,0.284789,0.7394314,0.86334276,0.2804496,0.5983118,0.37322485,0.6635214,0.5640263,0.35661128,0.21927357,0.042956017,0.2799026,0.17757471,0.6662763,0.6812526,0.82782215,0.5633983,0.29070777,0.08520146,0.3259279,0.97389036,0.8780642,0.6024709,0.38700494,0.6841076,0.6694339,0.49369034,0.20530869,0.6090829,0.39451483,0.94480556,0.29322958,0.9834233,0.31868422,0.11400184,0.2569282,0.51655143,0.12137658,0.7696735,0.9528067,0.54135346,0.33124477,0.21357691,0.6361205,0.7989089,0.6542638,0.44028372,0.5746778,0.08560201,0.93467134,0.6680734,0.087976284,0.719596,0.31328106,0.33978367,0.26442927,0.8945632,0.57925546,0.27009147,0.89863896,0.049205232,0.62240356,0.4056932,0.8910435,0.15252009,0.4301832,0.85757816,0.75751287,0.066254914,0.82919943,0.24880208,0.13230066,0.1753224,0.59340185,0.17654999,0.99191,0.45307383,0.5651233,0.03178468,0.6798951,0.22516744,0.54127055,0.89459693,0.06708828,0.6213159,0.9330059,0.8203654,0.3951079,0.20334421,0.485431,0.31989995,0.9862526,0.55727893,0.040825233,0.37830397,0.50547844,0.30990446,0.04906691,0.23862459,0.56392306,0.9175668,0.73634094,0.11648119,0.049612623,0.2528642,0.77641475,0.6281996,0.21449302,0.4845949,0.077201456,0.11358013,0.3028608,0.71717376,0.052593444,0.7171143,0.22058164,0.87703806,0.101075985,0.84225607,0.13562192,0.8737301,0.29027748,0.59265167,0.6680952,0.0032655834,0.7877499,0.3846508,0.2661856,0.5905075,0.3344645,0.72981673,0.61320186,0.6150537,0.5497705,0.7509785,0.651524,0.65182465,0.38289824,0.5643214,0.3232487,0.57846004,0.33226892,0.95346093,0.9387532,0.038356185,0.85044336,0.994106,0.053373903,0.63700444,0.58505726,0.7758862,0.9413811,0.9661251,0.10296128,0.7222168,0.59456176,0.7232208,0.24024625,0.59078765,0.7410501,0.5546954,0.76309437,0.2934023,0.4339223,0.71334773,0.035461783,0.62265813,0.45846057,0.15946384,0.119361274,0.6473322,0.27900556,0.53574854,0.28701562,0.3613693,0.8327441,0.53246164,0.91359866,0.05038179,0.2667784,0.78183335,0.9731397,0.10382242,0.72457945,0.56156,0.13299648,0.075169966,0.3413751,0.04565928,0.04104052,0.28471264,0.83275884,0.49701795,0.56463915,0.7402825,0.12973392,0.7018827,0.86852354,0.28202713,0.20641035,0.05183039,0.58157396,0.35531858,0.48458523,0.076008685,0.12084552,0.8945823,0.4710605,0.6519586,0.8810856,0.79503864,0.7713679,0.41895908,0.44224727,0.8224329,0.8413734,0.45553976,0.8138287,0.7064193,0.53100544,0.6534438,0.49923095,0.04245172,0.018269626,0.40278766,0.3262735,0.04847951,0.74146837,0.7553322,0.19016719,0.38025954,0.09548328,0.76149124,0.17191881,0.7031496,0.11340982,0.95838827,0.5551325,0.38287362,0.6769636,0.7062211,0.7933146,0.5120671,0.28557494,0.7238548,0.16628978,0.8280152,0.27370408,0.25823665,0.5081024,0.76082426,0.81697667,0.77342176,0.74040425,0.615313,0.86633646,0.99559283,0.13966027,0.958307,0.58872086,0.74520004,0.8364568];
    var y = [0.35943344,0.22623776,0.4816896,0.2963062,0.101028286,0.33631364,0.06024523,0.17359477,0.35077256,0.7371794,0.6375909,0.2679733,0.13436769,0.12521605,0.27671683,0.101659015,0.052550156,0.55720866,0.5170303,0.056054562,0.54564893,0.5439128,0.076844394,0.36842945,0.22182958,0.28390592,0.38605577,0.42064503,0.53544116,0.44313118,0.33650306,0.25224918,0.27711657,0.4240133,0.031772017,0.5101838,0.30810577,0.64015377,0.07575296,0.08878342,0.101820305,0.37345847,0.5064859,0.18994857,0.27547184,0.47599915,0.032279037,0.7536347,0.73026305,0.18401158,0.20463556,0.22922225,0.14156094,0.41919875,0.34070298,0.6790795,0.4578858,0.51878023,0.67316663,0.7831019,0.5022439,0.5530852,0.30842623,0.75066787,0.6206955,0.16634414,0.24792579,0.15320696,0.027818942,0.1496641,0.2592853,0.32698208,0.57654667,0.11343056,0.36044255,0.1327007,0.3724158,0.5175022,0.42865643,0.3618191,0.43674046,0.17773513,0.34277207,0.1575137,0.73560715,0.033980384,0.09413556,0.32944408,0.37796226,0.5506052,0.2759073,0.09206794,0.20057142,0.5648035,0.41553167,0.7500805,0.03473836,0.0089637255,0.3832716,0.7167349,0.22842047,0.63293666,0.21475258,0.12388136,0.72303784,0.43426898,0.6831122,0.14311987,0.007447001,0.5591944,0.08659375,0.7116864,0.5155519,0.36972198,0.3076076,0.6035377,0.24649385,0.49737105,0.3517319,0.3640203,0.09930803,0.08840147,0.7676091,0.20816955,0.119983,0.66847783,0.62390304,0.4461833,0.008006994,0.49025303,0.1440544,0.23602888,0.6556758,0.26466793,0.2427422,0.50265974,0.68010765,0.4357209,0.6384646,0.33211088,0.1107776,0.37227055,0.30842862,0.24543627,0.27360058,0.47429848,0.16638368,0.15757254,0.50828487,0.38999596,0.5270364,0.41354087,0.21833494,0.45748633,0.6442407,0.4918015,0.37924838,0.05611259,0.52846533,0.5078434,0.26201153,0.2929957,0.19309205,0.6459387,0.34440076,0.3802431,0.6143598,0.6609057,0.38214976,0.6196993,0.6567058,0.012004868,0.37400284,0.19896618,0.517689,0.108203754,0.46784446,0.21961063,0.2469101,0.39345026,0.19992355,0.2930956,0.60577565,0.11102228,0.23403844,0.27977544,0.27330843,0.22420633,0.52973825,0.13637914,0.51293325,0.043011103,0.57622486,0.1905754,0.1525531,0.3058733,0.35585967,0.04757353,0.19392541,0.24882047,0.67201364,0.095235825,0.40451598,0.51895565,0.58213997,0.6907229,0.39093295,0.16021073,0.6213181,0.26726553,0.6221183,0.5267888,0.5066142,0.7405651,0.20290641,0.3808513,0.4934984,0.29717454,0.50759655,0.39984286,0.4310455,0.5803867,0.17871839,0.3961391,0.21559206,0.5976006,0.7241218,0.05115999,0.4335636,0.41853917,0.6568725,0.2136455,0.010603675,0.28559315,0.4381151,0.32702217,0.15140542,0.115568005,0.17846566,0.5519954,0.5508804,0.18038717,0.39835373,0.27307165,0.5122591,0.36685044,0.23520802,0.14665264,0.027892807,0.19988899,0.13493608,0.5134451,0.41962954,0.57335395,0.43692946,0.20976971,0.056168437,0.25953788,0.7441015,0.6170135,0.481654,0.3010477,0.5276137,0.43582654,0.3135248,0.14120539,0.38526094,0.30839616,0.58010256,0.22212116,0.5985202,0.24662445,0.082114086,0.16009325,0.3467994,0.08923897,0.60134494,0.74227536,0.42663717,0.24630204,0.14754473,0.45963347,0.61119574,0.45073223,0.26930153,0.37868324,0.067385495,0.5614431,0.4648645,0.053827826,0.5163582,0.24898116,0.26571244,0.17102267,0.7036407,0.35728437,0.19968784,0.6798426,0.03308535,0.49353632,0.31213617,0.5772247,0.11453466,0.29904917,0.64922345,0.5384128,0.044451315,0.52801573,0.14995933,0.08852673,0.13793454,0.4283116,0.13070711,0.6314757,0.34359205,0.43074334,0.02212472,0.5157294,0.13910203,0.35121283,0.55406773,0.04076973,0.4375116,0.59169775,0.5668187,0.2603372,0.12906589,0.32824987,0.20561242,0.7405338,0.4313963,0.025818283,0.24417572,0.36562777,0.2255025,0.037708513,0.16514295,0.35852677,0.61781913,0.47188383,0.08709945,0.030640742,0.1827584,0.5269037,0.42237556,0.13646452,0.3004844,0.048829257,0.076000996,0.18283339,0.4734544,0.03610749,0.44452205,0.16447662,0.5390722,0.076355875,0.5381146,0.08587043,0.5627848,0.191311,0.4686155,0.50948685,0.0025697926,0.6083996,0.274803,0.16509046,0.46265095,0.21860643,0.47624803,0.46701786,0.47712392,0.38353997,0.51875085,0.46514457,0.49380934,0.26739764,0.34360138,0.24673158,0.44185528,0.26171595,0.66818637,0.58767647,0.029655771,0.6493203,0.65141904,0.04097871,0.43133047,0.4216956,0.5780742,0.7459848,0.59399515,0.080258824,0.5661991,0.43933603,0.44962537,0.15394753,0.39663166,0.58600163,0.40426835,0.56874996,0.20581846,0.32896057,0.5042541,0.026256038,0.4830274,0.33116144,0.10157114,0.07819623,0.47959954,0.18166414,0.39630726,0.17975676,0.25164288,0.511612,0.36601174,0.56729966,0.03726681,0.16654721,0.5875523,0.7767744,0.064755775,0.45112586,0.41049066,0.08235991,0.056866337,0.2082902,0.027587438,0.028682994,0.18175142,0.5363624,0.34879148,0.4054341,0.58987314,0.0799788,0.47528127,0.62719226,0.21431847,0.13248941,0.03948726,0.3846213,0.24492042,0.3550904,0.05331486,0.09615599,0.6775861,0.33904368,0.45457292,0.5326637,0.6279386,0.5012358,0.30742377,0.30152988,0.59412044,0.5720219,0.34441176,0.62772137,0.5030637,0.42036214,0.4233542,0.34175327,0.033104666,0.011857721,0.24237798,0.25075042,0.036215845,0.49054953,0.5332937,0.13600402,0.2943055,0.06649938,0.49421725,0.1218562,0.43409744,0.07786016,0.7545184,0.3691243,0.25798735,0.5097542,0.48348182,0.55951434,0.40023628,0.20349868,0.45258954,0.11141106,0.5774023,0.17723753,0.20092118,0.3459365,0.47070676,0.59955275,0.4923191,0.56139964,0.37262926,0.6593313,0.78225803,0.08594208,0.7388124,0.45473668,0.5060252,0.5585707];
    var marker = {
        name: 'samples',
        x: x,
        y: y,
        mode: 'markers',
        marker: {color: 'yellow'}
    }
    lineMaxX = 1.5
    var trace = {
        name: 'fitting-line',
        type: "scatter",
        mode: "lines",
        x: [0, lineMaxX],
        y: [0, 0],
        line: {color: 'red'}
    };

    var lost = {
        name: 'lost',
        type: "scatter",
        mode: "lines",
        x: [1.5, 1.5],
        y: [0, 0.5],
        line: {color: 'blue'}
    };

    var data = [trace, lost, marker];

    Plotly.newPlot('myDiv', data, {
        xaxis: {range: [0, 3.0]},
        yaxis: {range: [0, 0.9]}
    });

    function animation() {
        Plotly.animate('myDiv', {
            data: [trace, lost],
            traces: [0, 1],
            layout: {}
        }, {
            transition: {
                duration: 500,
                easing: 'cubic-in-out'
            },
            frame: {
                duration: 500
            }
        })
    }

    const interval = 1000
    var latch =  100 
    var offset = 0.1
    count = 0;
    const records = [{"Lost":0.14808148,"Slope":0.04577698},{"Lost":0.12957384,"Slope":0.0885726},{"Lost":0.11339843,"Slope":0.12858102},{"Lost":0.09926149,"Slope":0.16598377},{"Lost":0.08690585,"Slope":0.20095056},{"Lost":0.076107234,"Slope":0.23364002},{"Lost":0.06666939,"Slope":0.26420045},{"Lost":0.058420908,"Slope":0.29277056},{"Lost":0.05121183,"Slope":0.3194799},{"Lost":0.044911202,"Slope":0.34444982},{"Lost":0.039404534,"Slope":0.3677934},{"Lost":0.034591787,"Slope":0.3896167},{"Lost":0.030385522,"Slope":0.41001868},{"Lost":0.026709292,"Slope":0.42909193},{"Lost":0.023496347,"Slope":0.44692296},{"Lost":0.020688254,"Slope":0.46359274},{"Lost":0.018234042,"Slope":0.4791768},{"Lost":0.016089078,"Slope":0.49374592},{"Lost":0.014214439,"Slope":0.5073661},{"Lost":0.012576013,"Slope":0.5200993},{"Lost":0.011144052,"Slope":0.5320032},{"Lost":0.009892541,"Slope":0.5431318},{"Lost":0.008798736,"Slope":0.5535357},{"Lost":0.007842763,"Slope":0.563262},{"Lost":0.0070072585,"Slope":0.5723548},{"Lost":0.0062770443,"Slope":0.5808554},{"Lost":0.0056388457,"Slope":0.58880234},{"Lost":0.0050810752,"Slope":0.59623176},{"Lost":0.004593594,"Slope":0.60317725},{"Lost":0.004167538,"Slope":0.6096704},{"Lost":0.0037951674,"Slope":0.61574066},{"Lost":0.0034697284,"Slope":0.62141556},{"Lost":0.003185294,"Slope":0.62672096},{"Lost":0.0029366997,"Slope":0.63168085},{"Lost":0.0027194316,"Slope":0.63631773},{"Lost":0.002529544,"Slope":0.6406526},{"Lost":0.002363585,"Slope":0.6447051},{"Lost":0.0022185424,"Slope":0.64849365},{"Lost":0.0020917768,"Slope":0.6520355},{"Lost":0.0019809846,"Slope":0.6553466},{"Lost":0.0018841559,"Slope":0.658442},{"Lost":0.0017995266,"Slope":0.66133595},{"Lost":0.001725566,"Slope":0.6640413},{"Lost":0.0016609196,"Slope":0.6665706},{"Lost":0.0016044211,"Slope":0.6689351},{"Lost":0.0015550423,"Slope":0.6711456},{"Lost":0.0015118868,"Slope":0.67321223},{"Lost":0.0014741668,"Slope":0.67514426},{"Lost":0.0014412033,"Slope":0.67695034},{"Lost":0.0014123939,"Slope":0.6786388},{"Lost":0.0013872136,"Slope":0.6802174},{"Lost":0.0013652066,"Slope":0.681693},{"Lost":0.0013459751,"Slope":0.68307257},{"Lost":0.0013291647,"Slope":0.6843623},{"Lost":0.0013144725,"Slope":0.68556803},{"Lost":0.0013016335,"Slope":0.6866952},{"Lost":0.0012904108,"Slope":0.6877491},{"Lost":0.0012806028,"Slope":0.68873423},{"Lost":0.0012720315,"Slope":0.68965524},{"Lost":0.0012645393,"Slope":0.6905163},{"Lost":0.0012579911,"Slope":0.6913213},{"Lost":0.0012522687,"Slope":0.6920739},{"Lost":0.0012472667,"Slope":0.69277734},{"Lost":0.0012428947,"Slope":0.6934351},{"Lost":0.0012390743,"Slope":0.69404995},{"Lost":0.0012357363,"Slope":0.6946248},{"Lost":0.0012328185,"Slope":0.6951621},{"Lost":0.0012302665,"Slope":0.6956646},{"Lost":0.0012280378,"Slope":0.6961342},{"Lost":0.0012260905,"Slope":0.69657326},{"Lost":0.0012243881,"Slope":0.69698375},{"Lost":0.0012229,"Slope":0.6973675},{"Lost":0.0012215988,"Slope":0.6977263},{"Lost":0.0012204617,"Slope":0.69806165},{"Lost":0.0012194685,"Slope":0.69837517},{"Lost":0.0012186003,"Slope":0.69866824},{"Lost":0.0012178423,"Slope":0.69894224},{"Lost":0.0012171791,"Slope":0.6991984},{"Lost":0.0012165998,"Slope":0.6994379},{"Lost":0.0012160928,"Slope":0.6996618},{"Lost":0.00121565,"Slope":0.6998712},{"Lost":0.0012152628,"Slope":0.70006686},{"Lost":0.0012149246,"Slope":0.70024985},{"Lost":0.0012146286,"Slope":0.7004209},{"Lost":0.0012143704,"Slope":0.70058084},{"Lost":0.0012141445,"Slope":0.7007303},{"Lost":0.0012139471,"Slope":0.70087004},{"Lost":0.0012137748,"Slope":0.70100063},{"Lost":0.0012136239,"Slope":0.70112276},{"Lost":0.0012134925,"Slope":0.7012369},{"Lost":0.0012133765,"Slope":0.70134366},{"Lost":0.0012132755,"Slope":0.70144343},{"Lost":0.001213188,"Slope":0.7015367},{"Lost":0.0012131111,"Slope":0.70162404},{"Lost":0.0012130445,"Slope":0.7017055},{"Lost":0.0012129854,"Slope":0.70178175},{"Lost":0.0012129347,"Slope":0.70185304},{"Lost":0.0012128897,"Slope":0.7019196},{"Lost":0.0012128509,"Slope":0.7019819},{"Lost":0.0012128163,"Slope":0.70204014}];
    console.log('latch == records.length', latch == records.length);
    const repeat = function () {
        console.log('count =', count);
        latch--;
        
        if (latch > 0) {
            
            trace.y = [0, records[count]["Slope"] * lineMaxX]
            lost.y = [0, records[count]["Lost"]]
            count++
            animation()
            setTimeout(repeat, interval)
        }
    }

    setTimeout(repeat, 0)
</script>
</body>
</html>